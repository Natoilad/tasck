{"version":3,"file":"static/js/724.5fd05db8.chunk.js","mappings":"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","sources":["components/ListUsers/ListUsers.styled.js","service/serviceAPI.js","components/ListUsers/ListUsers.jsx","components/Loader/Loader.jsx","pages/Tweets/Tweets.jsx"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\nexport const Li = styled.li`\n  list-style: none;\n  padding: 3px;\n  margin: 0;\n  :hover {\n    // border: 1px solid;\n  }\n`;\nexport const Links = styled(Link)`\n  text-decoration: none;\n  color: black;\n  :hover {\n    color: white;\n    background: black;\n  }\n`;\n\nexport const List = styled.ul`\n  display: flex;\n  justifycontent: center;\n  // textAlign: center:\n  flex-wrap: wrap;\n  // padding: 0;\n  margin: 0 'auto';\n`;\n\nexport const Img = styled.img`\n  width: 80px;\n  border-radius: 50px;\n  margin-top: 178px;\n  margin-left: 150px;\n`;\n\nexport const Card = styled.div`\n  background: #471ca9;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  margin-bottom: 20px;\n  text-align: center;\n  width: 380px;\n  height: 460px;\n\n  :hover {\n    // scale: 1.1;\n    // color: white;\n    // background: black;\n  }\n`;\n","import axios from 'axios';\nconst BASE_URL = 'https://6441ae9133997d3ef90088cd.mockapi.io/api/v1/users';\nexport const fetchUsers = async (page = 1) => {\n  try {\n    const resp = await axios.get(`${BASE_URL}?page=${page}&limit=3`);\n    return resp.data;\n  } catch (error) {\n    throw new Error(error.statusText);\n  }\n};\n\nexport const fetchAllUsers = async () => {\n  try {\n    const resp = await axios.get(`${BASE_URL}`);\n    return resp.data;\n  } catch (error) {\n    throw new Error(error.statusText);\n  }\n};\n\nexport const followUser = async (id, obj) => {\n  try {\n    const resp = await axios.put(`${BASE_URL}/${id}`, obj);\n    return resp.data;\n  } catch (error) {\n    throw new Error(error.statusText);\n  }\n};\n","// import PropTypes from 'prop-types';\nimport { AiOutlineFileImage } from 'react-icons/ai';\nimport { Outlet } from 'react-router-dom';\nimport { Card, Img, Li, List } from './ListUsers.styled';\nimport { followUser } from 'service/serviceAPI';\nconst converNumber = number => new Intl.NumberFormat('ja-JP').format(number);\nexport const ListUsers = ({ users, handleFollowing }) => {\n  return (\n    <>\n      <List>\n        {users.map(({ id, user, avatar, tweets, followers, isFollow }) => {\n          return (\n            <Li key={id}>\n              <Card>\n                {avatar ? (\n                  <Img src={avatar} alt={user} size={80} />\n                ) : (\n                  <AiOutlineFileImage size={80} />\n                )}\n                {user}\n                <p>{converNumber(tweets)} tweets</p>\n                <p>{converNumber(followers)} followers</p>\n\n                <button\n                  onClick={() => {\n                    handleFollowing(id);\n                    followUser(id, {\n                      followers: isFollow ? followers - 1 : followers + 1,\n                    });\n                  }}\n                >\n                  {isFollow ? 'following' : 'follow'}\n                </button>\n              </Card>\n            </Li>\n          );\n        })}\n      </List>\n      <Outlet />\n    </>\n  );\n};\nexport default ListUsers;\n\n// ListUsers.propTypes = {\n//   movies: PropTypes.arrayOf(\n//     PropTypes.shape({\n//       id: PropTypes.number.isRequired,\n//       title: PropTypes.string.isRequired,\n//     })\n//   ),\n// };\n","export const Loader = () => {\n  <div>Loading...</div>;\n};\nexport default Loader;\n","import { ListUsers } from 'components/ListUsers/ListUsers';\nimport Loader from 'components/Loader/Loader';\nimport { useEffect, useState } from 'react';\nimport { fetchAllUsers, fetchUsers } from 'service/serviceAPI';\nconst USERS = 'USERS';\nconst PAGE = 'Page';\nconst TOTALUSER = 'totalUser';\nconst Users = () => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [totalUser, setTotalUser] = useState(0);\n  console.log(totalUser);\n\n  const updPage = page => {\n    localStorage.setItem(PAGE, JSON.stringify(page));\n  };\n\n  const actualPage = JSON.parse(localStorage.getItem(PAGE));\n\n  const totaluser = JSON.parse(localStorage.getItem(TOTALUSER));\n\n  useEffect(() => {\n    setLoading(true);\n    const localusers = JSON.parse(localStorage.getItem(USERS));\n\n    if (localusers !== null) {\n      setUsers(localusers);\n    } else {\n      fetchUsers()\n        .then(respUsers => {\n          const result = respUsers.map(user => ({ ...user, isFollow: false }));\n          setUsers(result);\n          localStorage.setItem(USERS, JSON.stringify(result));\n        })\n        .catch(error => setError(error.message))\n        .finally(() => {\n          setLoading(false);\n        });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (page > 1) {\n      fetchUsers(page)\n        .then(respUsers => {\n          const result = respUsers.map(user => ({ ...user, isFollow: false }));\n          setUsers([...users, ...result]);\n          localStorage.setItem(USERS, JSON.stringify([...users, ...result]));\n          updPage(page);\n        })\n        .catch(error => setError(error.message))\n        .finally(() => {\n          setLoading(false);\n        });\n    } else {\n      fetchAllUsers().then(data => {\n        const lengthArray = data.length;\n        setTotalUser(lengthArray);\n        localStorage.setItem(TOTALUSER, JSON.stringify(lengthArray));\n      });\n    }\n  }, [page, users]);\n\n  const handleFollowing = id => {\n    const upduser = users.map(user => {\n      if (user.id === id) {\n        return {\n          ...user,\n          isFollow: !user.isFollow,\n          followers: user.isFollow ? user.followers - 1 : user.followers + 1,\n        };\n      }\n      return user;\n    });\n    setUsers(upduser);\n    localStorage.setItem(USERS, JSON.stringify(upduser));\n  };\n\n  return (\n    <div>\n      {error && <h2>{error.message}</h2>}\n      {users.length > 0 && (\n        <ListUsers users={users} handleFollowing={handleFollowing} />\n      )}\n      {loading && <Loader />}\n      {actualPage < totaluser / 3 && (\n        <button\n          onClick={() => {\n            if (actualPage) {\n              setPage(actualPage + 1);\n            } else {\n              setPage(prev => prev + 1);\n            }\n          }}\n        >\n          Load More\n        </button>\n      )}\n    </div>\n  );\n};\nexport default Users;\n"],"names":["Li","styled","List","Link","Img","Card","BASE_URL","fetchUsers","page","axios","resp","data","Error","statusText","fetchAllUsers","followUser","id","obj","converNumber","number","Intl","NumberFormat","format","ListUsers","users","handleFollowing","map","user","avatar","tweets","followers","isFollow","src","alt","size","onClick","USERS","PAGE","TOTALUSER","useState","setUsers","loading","setLoading","error","setError","setPage","totalUser","setTotalUser","console","log","actualPage","JSON","parse","localStorage","getItem","totaluser","useEffect","localusers","then","respUsers","result","setItem","stringify","catch","message","finally","updPage","lengthArray","length","upduser","prev"],"sourceRoot":""}